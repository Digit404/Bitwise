<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GPT Image Generator</title>
    <link rel="stylesheet" href="/tools/common.css">
    <link rel="stylesheet" href="./style.css">
    <script src="/dark-mode.js"></script>
    <link rel="shortcut icon" href="/res/favicon.png" type="image/png">
</head>

<body>
    <div class="main-container">
        <div id="header">
            <h1>GPT Image</h1>
            <input class="text-input" id="api-key" placeholder="API Key" type="password">
        </div>
        <div class="grid" id="reference-container"></div>
        <div class="grid">
            <div class="file-upload small" id="mask-button">+ mask</div>
        </div>
        <input id="mask-input" type="file" accept="image/*">
        <textarea class="text-input" id="prompt" placeholder="Prompt" rows="3"></textarea>
        <div id="options-bar">
            <select class="option-select" id="size-select">
                <option value="auto">Size: auto</option>
                <option value="1024x1024">1024 &times; 1024</option>
                <option value="1536x1024">1536 &times; 1024 (landscape)</option>
                <option value="1024x1536">1024 &times; 1536 (portrait)</option>
            </select>
            <select class="option-select" id="bg-select">
                <option value="auto">Background: auto</option>
                <option value="transparent">transparent</option>
                <option value="opaque">opaque</option>
            </select>
            <select class="option-select" id="quality-select">
                <option value="auto">Quality: auto</option>
                <option value="high">high</option>
                <option value="medium">medium</option>
                <option value="low">low</option>
            </select>
        </div>
        <button class="button" id="generate-button">Generate</button>
        <h3>Output</h3>
        <div id="output"></div>
        <button class="button" id="download-button" style="display:none;">Save Image</button>
        <section hidden id="history-section">
            <h3 id="history-title">History</h3>
            <div class="grid" id="history"></div>
        </section>
    </div>
    <script type="module" src="gpt-image.js"></script>
    <div id="popup" style="display:none;">
        <div id="popup-content" class="info">
            <span id="popup-icon">ℹ️</span>
            <div style="text-align:left; max-width:480px; margin:0 auto;" id="popup-text">
                <strong>Heads up:</strong> As a general rule, you shouldn’t paste your API key into a website.<br> This
                site is <b>100% static</b> and only talks to OpenAI.<br> Source code: <a
                    href="https://github.com/Digit404/Bitwise" target="_blank" rel="noopener noreferrer">GitHub</a>
                <hr style="margin:18px 0 12px 0; border:none; border-top:1px solid #e8e8e8;">
                <ul style="text-align:left; padding-left:24px; font-size:0.98em; margin:0;">
                    <li>This site does <b>not</b> log, store, or access your API key or prompts. Everything stays on
                        your device.</li>
                    <li>Only official OpenAI servers ever see your key.</li>
                    <li>For maximum safety, use a <b>restricted or temporary API key</b>.</li>
                    <li>Be careful with browser extensions—some can read anything on any website.</li>
                    <li>You can open DevTools and audit the whole source. No secrets here.</li>
                </ul>
            </div>
            <button id="popup-close">OK, got it</button>
        </div>
    </div>
    <a href="../" class="back-button">arrow_back</a>
</body>